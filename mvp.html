<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>แผนโครงการ Google Dataplex (Interactive)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutral Harmony (bg-stone-50, text-stone-800, accent-sky-600, secondary-amber-500) -->
    <!-- Application Structure Plan: A dashboard-style SPA featuring a main interactive Gantt chart timeline. This structure was chosen to provide an immediate, high-level overview of the project's 45-day flow, which is more intuitive than a static text document. Users can click on any phase in the chart to instantly view its detailed activities, owners, and deliverables below. This task-oriented design (exploring project phases) prioritizes user understanding and quick navigation over simply mirroring the report's linear structure. -->
    <!-- Visualization & Content Choices: 
        - Project Overview -> Goal: Inform -> Viz: Key Stat Cards (HTML/Tailwind) -> Interaction: None -> Justification: Provides quick, scannable metrics about the project's scope.
        - Project Timeline -> Goal: Organize/Change -> Viz: Interactive Gantt Chart (Chart.js Canvas) -> Interaction: Click on a phase bar -> Justification: Visually represents the project schedule and dependencies, making it easy to understand the sequence and duration. Clicking provides a direct path to detailed information.
        - Phase Details -> Goal: Inform/Organize -> Viz: Structured Tables (HTML/Tailwind) -> Interaction: Revealed on click -> Justification: Presents detailed, structured information in a clear and readable format once the user has selected a phase of interest.
        - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Sarabun', sans-serif;
        }
        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }
        @media (max-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .phase-details-table th {
            background-color: #f1f5f9; /* bg-slate-100 */
        }
        .phase-details-table tr:nth-child(even) {
            background-color: #f8fafc; /* bg-slate-50 */
        }
        .nav-button.active {
            background-color: #0284c7; /* bg-sky-600 */
            color: white;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
    </style>
</head>
<body class="bg-stone-50 text-stone-800">

    <div class="container mx-auto p-4 md:p-8">
        
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-sky-700">แผนโครงการ Google Dataplex (MVP 45 วัน)</h1>
            <p class="mt-2 text-lg text-stone-600">ไทม์ไลน์และรายละเอียดกิจกรรมสำหรับการนำ Dataplex มาใช้กับ 60 Entities บน BigQuery</p>
        </header>

        <main>
            <!-- Key Stats Section -->
            <section class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 mb-8 text-center">
                <div class="bg-white p-4 rounded-lg shadow-md border-l-4 border-sky-500">
                    <h3 class="text-3xl font-bold text-sky-600">7</h3>
                    <p class="text-stone-500">สัปดาห์ (45 วัน)</p>
                </div>
                <div class="bg-white p-4 rounded-lg shadow-md border-l-4 border-amber-500">
                    <h3 class="text-3xl font-bold text-amber-600">60</h3>
                    <p class="text-stone-500">Entities</p>
                </div>
                <div class="bg-white p-4 rounded-lg shadow-md border-l-4 border-emerald-500">
                    <h3 class="text-3xl font-bold text-emerald-600">5</h3>
                    <p class="text-stone-500">Step หลัก</p>
                </div>
                <div class="bg-white p-4 rounded-lg shadow-md border-l-4 border-violet-500">
                    <h3 class="text-3xl font-bold text-violet-600">1</h3>
                    <p class="text-stone-500">MVP Goal</p>
                </div>
            </section>

            <!-- Timeline Chart Section -->
            <section class="bg-white p-4 md:p-6 rounded-lg shadow-lg mb-8">
                <h2 class="text-2xl font-bold mb-4 text-center">ไทม์ไลน์ภาพรวมโครงการ</h2>
                <div class="chart-container">
                    <canvas id="ganttChart"></canvas>
                </div>
                 <div id="phase-nav-buttons" class="flex flex-wrap justify-center gap-2 mt-4">
                    <!-- Navigation buttons will be generated here -->
                </div>
            </section>

            <!-- Phase Details Section -->
            <section id="phase-details-container">
                <!-- Details for each phase will be rendered here -->
            </section>

        </main>
    </div>

    <script>
        const projectData = {
            phases: [
                {
                    name: "Step 1: การวางแผนและประเมินผล",
                    duration: 5,
                    startDay: 0,
                    color: 'rgba(56, 189, 248, 0.7)', // sky-400
                    borderColor: 'rgba(2, 132, 199, 1)', // sky-600
                    activities: [
                        { name: "1.1 การเริ่มต้นโครงการและจัดแนวผู้มีส่วนได้ส่วนเสีย", owner: "Project Manager", duration: "1 วัน", deliverables: "- Project Charter/Scope Document (MVP Focus)<br>- Stakeholder List<br>- Communication Plan" },
                        { name: "1.2 การประเมินสถานะปัจจุบัน", owner: "Data Architect, Data Engineer", duration: "2 วัน", deliverables: "- Current State Architecture Diagram (High-Level)<br>- BigQuery Entities Inventory (Summary)<br>- Gap Analysis Report (Key Gaps)<br>- Identified Core Use Cases" },
                        { name: "1.3 การรวบรวมข้อกำหนด", owner: "Data Governance Lead, PM, Stakeholders", duration: "1 วัน", deliverables: "- Prioritized Requirements (MVP)<br>- Core Metadata Attributes List" },
                        { name: "1.4 การออกแบบสถาปัตยกรรมและการวางแผนระดับสูง", owner: "Data Architect", duration: "1 วัน", deliverables: "- High-Level Dataplex Architecture Diagram<br>- IAM Strategy (Key Roles)<br>- High-Level Project Plan (45-day)<br>- Resource Estimation (Lean)" }
                    ]
                },
                {
                    name: "Step 2: การออกแบบและกำหนดค่า",
                    duration: 10,
                    startDay: 5,
                    color: 'rgba(251, 191, 36, 0.7)', // amber-400
                    borderColor: 'rgba(217, 119, 6, 1)', // amber-600
                    activities: [
                        { name: "2.1 การออกแบบ Dataplex Lake และ Zone โดยละเอียด", owner: "Data Architect", duration: "2 วัน", deliverables: "- Detailed Dataplex Lake & Zone Design Document<br>- Asset Mapping Strategy" },
                        { name: "2.2 กลยุทธ์การนำเข้า Asset", owner: "Data Engineer", duration: "1 วัน", deliverables: "- Asset Onboarding Plan<br>- Data Source Connection Specifications" },
                        { name: "2.3 การจัดการ Metadata และการติด Tag", owner: "Data Governance Lead, Data Architect", duration: "4 วัน", deliverables: "- Defined Core Tag Templates<br>- Initial Business Glossary (Key Terms)<br>- Metadata Collection Strategy<br>- Metadata Governance Guidelines (Basic)" },
                        { name: "2.4 การกำหนด Data Governance และนโยบายความปลอดภัย", owner: "Data Governance Lead, Cloud Security Engineer", duration: "1 วัน", deliverables: "- Data Governance Policy Document (MVP)<br>- IAM Role Matrix (Core Roles)" },
                        { name: "2.5 กฎคุณภาพข้อมูลและการทำ Profiling", owner: "Data Engineer, Data Governance Lead", duration: "1 วัน", deliverables: "- Data Quality Rule Definitions (Critical)<br>- Data Profiling Plan<br>- Alerting Strategy (Basic)" },
                        { name: "2.6 Data Lineage และ Observability", owner: "Data Architect, Data Engineer", duration: "1 วัน", deliverables: "- Data Lineage Strategy (High-Level)<br>- Observability Metrics (Key Metrics)" }
                    ]
                },
                {
                    name: "Step 3: การนำไปใช้และการบูรณาการ",
                    duration: 20,
                    startDay: 15,
                    color: 'rgba(52, 211, 153, 0.7)', // emerald-400
                    borderColor: 'rgba(5, 150, 105, 1)', // emerald-600
                    activities: [
                        { name: "3.1 การตั้งค่าสภาพแวดล้อม Dataplex", owner: "Data Engineer, Cloud Security Engineer", duration: "1 วัน", deliverables: "- Configured GCP Project<br>- Deployed Dataplex Lakes & Zones<br>- Service Accounts Setup" },
                        { name: "3.2 การนำเข้า Asset", owner: "Data Engineer", duration: "2 วัน", deliverables: "- 60 BigQuery Tables Onboarded<br>- Verified Asset Connections" },
                        { name: "3.3 การเสริม Metadata และการทำ Catalog", owner: "Data Governance Lead, Data Engineer", duration: "12 วัน", deliverables: "- Populated Dataplex Data Catalog (MVP)<br>- Implemented Business Glossary (Key Terms)" },
                        { name: "3.4 การนำคุณภาพข้อมูลไปใช้", owner: "Data Engineer", duration: "2 วัน", deliverables: "- Deployed Data Quality Scans (Critical)<br>- Configured Alerting Mechanisms" },
                        { name: "3.5 การกำหนดค่าความปลอดภัยและการควบคุมการเข้าถึง", owner: "Cloud Security Engineer, Data Governance Lead", duration: "1 วัน", deliverables: "- Implemented IAM Policies" },
                        { name: "3.6 การตั้งค่าการสำรวจและการบริโภคข้อมูล", owner: "Data Engineer, Data Analyst/Scientist", duration: "2 วัน", deliverables: "- Configured Dataplex Exploration Environment<br>- Tested BigQuery Access via Dataplex" }
                    ]
                },
                {
                    name: "Step 4: การทดสอบและการเพิ่มประสิทธิภาพ",
                    duration: 5,
                    startDay: 35,
                    color: 'rgba(167, 139, 250, 0.7)', // violet-400
                    borderColor: 'rgba(124, 58, 237, 1)', // violet-600
                    activities: [
                        { name: "4.1 การทดสอบฟังก์ชันการทำงาน", owner: "Data Analyst/Scientist, Data Engineer", duration: "2 วัน", deliverables: "- Test Cases & Results (Core Features)<br>- Bug Report (Critical Bugs)" },
                        { name: "4.2 การทดสอบประสิทธิภาพ", owner: "Data Engineer", duration: "1 วัน", deliverables: "- Performance Test Report (Key Metrics)<br>- Optimization Recommendations (Urgent)" },
                        { name: "4.3 การทดสอบการยอมรับของผู้ใช้ (UAT)", owner: "Business Stakeholders, Data Governance Lead", duration: "1 วัน", deliverables: "- UAT Sign-off (MVP Scope)<br>- Feedback Log & Action Plan (Prioritized)" },
                        { name: "4.4 การจัดทำเอกสาร", owner: "Project Manager, Architects, Engineers", duration: "1 วัน", deliverables: "- User Guide (Basic)<br>- Admin Guide (Basic)<br>- Architecture Documentation (High-Level)" }
                    ]
                },
                {
                    name: "Step 5: การนำไปใช้งานจริง",
                    duration: 5,
                    startDay: 40,
                    color: 'rgba(251, 113, 133, 0.7)', // rose-400
                    borderColor: 'rgba(225, 29, 72, 1)', // rose-600
                    activities: [
                        { name: "5.1 การนำไปใช้งานจริงใน Production", owner: "Data Engineer, Cloud Security Engineer", duration: "2 วัน", deliverables: "- Production Dataplex Environment<br>- Deployed Metadata & Governance Policies" },
                        { name: "5.2 การฝึกอบรมผู้ใช้", owner: "Data Governance Lead, Project Manager", duration: "2 วัน", deliverables: "- Training Materials (Essential)<br>- Conducted Training Sessions" },
                        { name: "5.3 การติดตามหลังการเปิดตัว", owner: "Data Engineer, Data Governance Lead", duration: "1 วัน", deliverables: "- Monitoring Dashboards (Initial)<br>- Initial Monitoring Report" }
                    ]
                },
                 {
                    name: "Step 6: การปรับปรุงและขยายผลอย่างต่อเนื่อง",
                    duration: 0, // Represented differently
                    startDay: 45,
                    color: 'rgba(156, 163, 175, 0.7)', // gray-400
                    borderColor: 'rgba(75, 85, 99, 1)', // gray-600
                    activities: [
                        { name: "6.1 การเสริม Metadata และการบำรุงรักษา", owner: "Data Governance Lead, Data Engineer", duration: "ต่อเนื่อง", deliverables: "- Regular Metadata Audit Reports<br>- Updated Metadata" },
                        { name: "6.2 การนำเข้า Entity ใหม่", owner: "Data Engineer, Data Governance Lead", duration: "ต่อเนื่อง", deliverables: "- Onboarded New Entities with Metadata" },
                        { name: "6.3 การนำ Feature ใหม่มาใช้", owner: "Data Architect, Data Governance Lead", duration: "ต่อเนื่อง", deliverables: "- Feature Evaluation Reports<br>- Implementation Plans" },
                        { name: "6.4 การทบทวนและอัปเดตนโยบาย", owner: "Data Governance Lead", duration: "ต่อเนื่อง", deliverables: "- Reviewed & Updated Policies" }
                    ]
                }
            ]
        };

        const detailsContainer = document.getElementById('phase-details-container');
        const navButtonsContainer = document.getElementById('phase-nav-buttons');
        let activePhaseIndex = 0;
        let ganttChart;

        function renderPhaseDetails(phaseIndex) {
            const phase = projectData.phases[phaseIndex];
            if (!phase) return;

            detailsContainer.innerHTML = `
                <div class="bg-white p-4 md:p-6 rounded-lg shadow-lg animate-fade-in">
                    <h2 class="text-2xl font-bold mb-4" style="color: ${phase.borderColor};">${phase.name}</h2>
                    <p class="mb-4 text-stone-600">รวมระยะเวลา: <strong>${phase.duration > 0 ? `${(phase.duration / 7).toFixed(1)} สัปดาห์ (${phase.duration} วัน)` : 'ต่อเนื่อง'}</strong></p>
                    <div class="overflow-x-auto">
                        <table class="min-w-full text-sm text-left phase-details-table">
                            <thead class="font-semibold">
                                <tr>
                                    <th class="p-3">กิจกรรม (Activity)</th>
                                    <th class="p-3">ผู้รับผิดชอบ (Owner)</th>
                                    <th class="p-3">ระยะเวลา (Duration)</th>
                                    <th class="p-3">Deliverable Items</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${phase.activities.map(activity => `
                                    <tr class="border-b">
                                        <td class="p-3 font-semibold">${activity.name}</td>
                                        <td class="p-3">${activity.owner}</td>
                                        <td class="p-3">${activity.duration}</td>
                                        <td class="p-3">${activity.deliverables}</td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                </div>
            `;
            
            // Add fade-in animation
            const newContent = detailsContainer.firstElementChild;
            newContent.style.opacity = 0;
            requestAnimationFrame(() => {
                newContent.style.transition = 'opacity 0.5s ease-in-out';
                newContent.style.opacity = 1;
            });
        }

        function updateActiveState(phaseIndex) {
             activePhaseIndex = phaseIndex;
            // Update nav buttons
            const buttons = navButtonsContainer.querySelectorAll('.nav-button');
            buttons.forEach((button, index) => {
                if (index === phaseIndex) {
                    button.classList.add('active');
                } else {
                    button.classList.remove('active');
                }
            });

            // Update chart visual
            if (ganttChart) {
                ganttChart.data.datasets.forEach((dataset, index) => {
                    dataset.borderWidth = (index === phaseIndex) ? 3 : 1;
                });
                ganttChart.update();
            }
        }

        function handlePhaseSelection(phaseIndex) {
            if (phaseIndex === activePhaseIndex) return;
            renderPhaseDetails(phaseIndex);
            updateActiveState(phaseIndex);
        }

        function createNavButtons() {
            projectData.phases.forEach((phase, index) => {
                const button = document.createElement('button');
                button.textContent = `Step ${index + 1}`;
                button.className = 'nav-button px-4 py-2 rounded-md font-semibold transition-colors duration-200 bg-white hover:bg-sky-100 border border-stone-200';
                button.onclick = () => handlePhaseSelection(index);
                navButtonsContainer.appendChild(button);
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            const ctx = document.getElementById('ganttChart').getContext('2d');
            
            const chartData = {
                labels: projectData.phases.map(p => p.name),
                datasets: projectData.phases.map(p => ({
                    label: p.name,
                    data: [[p.startDay / 7, (p.startDay + p.duration) / 7]], // Convert days to weeks for chart data
                    backgroundColor: p.color,
                    borderColor: p.borderColor,
                    borderWidth: 1,
                    borderSkipped: false,
                    borderRadius: 4,
                }))
            };

            ganttChart = new Chart(ctx, {
                type: 'bar',
                data: chartData,
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    onClick: (event, elements) => {
                        if (elements.length > 0) {
                            const phaseIndex = elements[0].index;
                            handlePhaseSelection(phaseIndex);
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const phase = projectData.phases[context.dataIndex];
                                    const startWeek = (phase.startDay / 7).toFixed(1);
                                    const endWeek = ((phase.startDay + phase.duration) / 7).toFixed(1);
                                    const durationWeeks = (phase.duration / 7).toFixed(1);
                                    return ` ${phase.name}: ${durationWeeks} สัปดาห์ (สัปดาห์ที่ ${startWeek} - ${endWeek})`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            min: 0,
                            max: Math.ceil(45 / 7), // Total project duration in weeks, rounded up
                            title: {
                                display: true,
                                text: 'ไทม์ไลน์โครงการ (สัปดาห์)'
                            },
                            ticks: {
                                callback: function(value) {
                                    return 'สัปดาห์ ' + Math.floor(value); // Display as whole week numbers
                                }
                            },
                            grid: {
                                display: true,
                                color: 'rgba(200, 200, 200, 0.1)'
                            }
                        },
                        y: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
            
            createNavButtons();
            // Initial render
            handlePhaseSelection(0);
        });
    </script>
</body>
</html>
